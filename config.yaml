########################################################################################################################
# RASCAL Configuration file                                                                                            #
#                                                                                                                      #
# contact: alvaro@intermet.es                                                                                          #
########################################################################################################################

# Total period
initial_year: 1900
final_year: 2010

# Training period
training_start: [1900, 1, 1]
training_end: [2010, 12, 31]

# Test period
test_start: [1900, 1, 1]
test_end: [2010, 12, 31]

# Input paths
reanalysis_path: "/home/alvaro/data/NWP/era20c/"
observations_path: "./data/observations/"

# Output paths
pca_path: './pca/'
temporal_files_path: "./tmp/"
output_path: "./output/"
plot_path: "./plots/"

# Stations
stations:
  - "colmenar"
  - "avila"
  - "segovia"
  - "retiro"
  - 'navacerrada'

# Variable
variables:
  - 'PCP'
  #- 'TMAX'
  #- 'TMIN'

# Reanalysis variables
# ['variable acronym', 'pressure level']
reanalysis_variable_levels:
  - ['129', '925']
  - ['131', '850']
  - ['132', '850']
  - ['130', '850']
  - ['157', '950']
  - ['228', 'surf']
  - ['165', 'surf']
  - ['166', 'surf']
  - ['246', 'surf']
  - ['247', 'surf']
  - ['167', 'surf']
  - ['71.162', 'surf']
  - ['72.162', 'surf']
  - ['168', 'surf']

# Reanalysis domain
reanalysis_min_lat: 20
reanalysis_max_lat: 80
reanalysis_min_lon: -60
reanalysis_max_lon: 20

# Synoptic predictor
predictor_lat_min: 33
predictor_lat_max: 48
predictor_lon_min: -15
predictor_lon_max: 1.5

predictor_grouping: "12hour_1D_mean"

grouping_per_variable:
  TMEAN: "1D_mean"
  TMAX: "1D_max"
  TMIN: "1D_min"
  PCP: "1D_sum"

predictor_for_variable:
  TMPA: [ '925_129' ]
  TMAX: [ '925_129' ]
  TMIN: [ '925_129' ]
  WSPD: [ '925_129' ]
  PCP: [ 'SURF_71.162', 'SURF_72.162' ]

overwrite_predictor: False

# Secondary predictor
mapping_variables_for_variable:
  TMPA: [ 'SURF_167']
  TMAX: [ 'SURF_167']
  TMIN: [ 'SURF_167']
  WSPD: [ 'SURF_165', 'SURF_166' ]
  PCP: [ 'SURF_71.162', 'SURF_72.162' ] #[ 'SURF_228']


########################################################################################################################
# Principal Component Analysis                                                                                         #
########################################################################################################################
seasons:
  - [12, 1, 2]
  - [3, 4, 5]
  - [6, 7, 8]
  - [9, 10, 11]
standardize_anomalies: True
n_components: 4
pca_scaling: 1
    # 0 : Un-scaled PCs.
    # 1 : PCs are scaled to unit variance (divided by the square-root of their eigenvalue) (default).
    # 2 : PCs are multiplied by the square-root of their eigenvalue.

overwrite_pcs: False

########################################################################################################################
# Analog method                                                                                                        #
########################################################################################################################
analog_pool_size: [20, 50, 100]
weighted_mean_sample_size: [2, 5, 10]
distance: 'euclidean'

validation_window_size: 10
validation_window_type: 'centered'

similarity_methods:
  - 'closest'
  - 'average'
  - 'quantilemap'
